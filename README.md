# SELECT

#### 모든 레코드 조회하기 Level1

```SQL
SELECT *
FROM ANIMAL_INS
ORDER BY ANIMAL_ID;
```

<BR>

#### 역순 정렬하기 Level1

```SQL
SELECT NAME, DATETIME
FROM ANIMAL_INS
ORDER BY ANIMAL_ID DESC;
```

<BR>

#### 아픈 동물 찾기 Level1

```SQL
SELECT ANIMAL_ID, NAME
FROM ANIMAL_INS
WHERE INTAKE_CONDITION = "Sick"
ORDER BY ANIMAL_ID;
```

<BR>

#### 어린 동물 찾기 Level1

```SQL
SELECT ANIMAL_ID, NAME
FROM ANIMAL_INS
WHERE INTAKE_CONDITION != "Aged"
ORDER BY ANIMAL_ID;
```

<BR>

#### 동물의 아이디와 이름 Level1

```SQL
SELECT ANIMAL_ID, NAME
FROM ANIMAL_INS;
```

<BR>

#### 상위 n개 레코드 Level1

```SQL
SELECT NAME
FROM ANIMAL_INS
ORDER BY DATETIME
LIMIT 1;
```

<BR>

# SUM, MAX, MIN

#### 최댓값 구하기 Level1

```SQL
SELECT MAX(DATETIME) AS "시간"
FROM ANIMAL_INS;
```

<BR>

#### 최솟값 구하기 Level2

```SQL
SELECT MIN(DATETIME) AS "시간"
FROM ANIMAL_INS;
```

<BR>

#### 동물 수 구하기 Level2

```SQL
SELECT COUNT(*) AS count
FROM ANIMAL_INS;
```

<BR>

#### 중복 제거하기 Level2

```SQL
SELECT COUNT(DISTINCT NAME) AS count
FROM ANIMAL_INS
WHERE NAME IS NOT NULL;
```

<BR>

# GROUP BY

#### 고양이와 개는 몇 마리 있을까 Level2

```SQL
SELECT ANIMAL_TYPE, COUNT(ANIMAL_TYPE) AS COUNT
FROM ANIMAL_INS
GROUP BY ANIMAL_TYPE
ORDER BY ANIMAL_TYPE;
```

<BR>

#### 동명 동물 수 찾기 Level2

```sql
SELECT NAME, COUNT(NAME)
FROM ANIMAL_INS
GROUP BY NAME
HAVING COUNT(NAME) >= 2
ORDER BY NAME;
```

<BR>

#### 입양 시각 구하기(1) Level2

```SQL
SELECT HOUR(DATETIME) AS HOUR, COUNT(*) AS COUNT
FROM ANIMAL_OUTS
GROUP BY HOUR
HAVING HOUR BETWEEN 9 AND 19
ORDER BY HOUR;
```

<BR>

#### 입양 시각 구하기(2) Level4

```SQL
SET @H := -1;
SELECT (@H := @H + 1) as HOUR,
(SELECT COUNT(*) 
 FROM ANIMAL_OUTS 
 WHERE HOUR(DATETIME) = @H) as COUNT
FROM ANIMAL_OUTS
WHERE @H < 23;
```

<BR>

# IS NULL

#### 이름이 없는 동물의 아이디 Level1

```SQL
SELECT ANIMAL_ID
FROM ANIMAL_INS
WHERE NAME IS NULL;
```

<BR>

#### 이름이 있는 동물의 아이디 Level1

```SQL
SELECT ANIMAL_ID
FROM ANIMAL_INS
WHERE NAME IS NOT NULL;
```

<BR>

#### NULL 처리하기 Level2

```SQL
SELECT ANIMAL_TYPE, IF(NAME IS NULL, "No name", name) as NAME, SEX_UPON_INTAKE
FROM ANIMAL_INS
ORDER BY ANIMAL_ID;
```

<BR>

# JOIN

#### 없어진 기록 찾기 Level3

```SQL
SELECT OUTS.ANIMAL_ID, OUTS.NAME
FROM ANIMAL_INS AS INS
RIGHT OUTER JOIN ANIMAL_OUTS AS OUTS
ON INS.ANIMAL_ID = OUTS.ANIMAL_ID
WHERE INS.ANIMAL_ID IS NULL
```

<BR>

#### 있었는데요 없었습니다 Level3

```SQL
SELECT INS.ANIMAL_ID, INS.NAME
FROM ANIMAL_INS AS INS
JOIN ANIMAL_OUTS AS OUTS
ON INS.ANIMAL_ID = OUTS.ANIMAL_ID
WHERE OUTS.DATETIME < INS.DATETIME
ORDER BY INS.DATETIME;
```

<BR>

#### 오랜 기간 보호한 동물(1) Level3

```SQL
SELECT INS.NAME, INS.DATETIME
FROM ANIMAL_INS AS INS
LEFT OUTER JOIN ANIMAL_OUTS AS OUTS
ON INS.ANIMAL_ID = OUTS.ANIMAL_ID
WHERE OUTS.ANIMAL_ID IS NULL
ORDER BY INS.DATETIME
LIMIT 3;
```

<BR>

#### 보호소에서 중성화한 동물 Level4

```SQL
SELECT INS.ANIMAL_ID, INS.ANIMAL_TYPE, INS.NAME
FROM ANIMAL_INS AS INS
JOIN ANIMAL_OUTS AS OUTS
ON INS.ANIMAL_ID = OUTS.ANIMAL_ID
WHERE INS.SEX_UPON_INTAKE LIKE '%Intact%' and
INS.SEX_UPON_INTAKE != OUTS.SEX_UPON_OUTCOME
ORDER BY INS.ANIMAL_ID
```

<BR>

# STRING, DATE

#### 루시와 엘라 찾기 Level2

```sql
SELECT ANIMAL_ID, NAME, SEX_UPON_INTAKE
FROM ANIMAL_INS
WHERE NAME IN ("Lucy", "Ella", "Pickle", "Rogan", "Sabrina", "Mitty");
```

<BR>

#### 이름에 el이 들어가는 동물 찾기 Level2

```sql
SELECT ANIMAL_ID, NAME
FROM ANIMAL_INS
WHERE NAME LIKE "%EL%" AND ANIMAL_TYPE = "Dog"
ORDER BY NAME;
```

<BR>

#### 중성화 여부 파악하기 Level2

```sql
SELECT ANIMAL_ID, NAME, 
CASE
	WHEN SEX_UPON_INTAKE LIKE "%Neutered%" or SEX_UPON_INTAKE LIKE "%Spayed%"
	THEN "O"
	ELSE "X" END AS "중성화"
FROM ANIMAL_INS ORDER BY ANIMAL_ID;
```

<BR>

#### 오랜기간 보호한 동물(2) Level3

```sql
SELECT INS.ANIMAL_ID, INS.NAME
FROM ANIMAL_INS AS INS
JOIN ANIMAL_OUTS AS OUTS
ON INS.ANIMAL_ID = OUTS.ANIMAL_ID
ORDER BY (OUTS.DATETIME-INS.DATETIME) DESC
LIMIT 2;
```

<BR>

#### DATETIME에서 DATE로 형 변환 Level2

```sql
SELECT ANIMAL_ID, NAME, DATE_FORMAT(DATETIME, "%Y-%m-%d") AS "날짜"
FROM ANIMAL_INS
ORDER BY ANIMAL_ID;
```

<BR>

# Summer/Winter Coding(2019)

#### 우유와 요거트가 담긴 장바구니 Level4

```sql
SELECT DISTINCT A.CART_ID
FROM CART_PRODUCTS AS A
JOIN CART_PRODUCTS AS B
ON A.CART_ID = B.CART_ID
WHERE A.NAME = 'Milk' and B.NAME = 'Yogurt';
```

<BR>

# 2021 Dev-Matching: 웹 백엔드 개발자(상반기)

#### 헤비 유저가 소유한 장소 Level3

```sql
SELECT *
FROM PLACES
WHERE HOST_ID IN (   
    SELECT HOST_ID
    FROM PLACES
    GROUP BY HOST_ID
    HAVING COUNT(HOST_ID) >= 2
)
ORDER BY ID;
```

